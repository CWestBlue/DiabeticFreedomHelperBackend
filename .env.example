# Diabetic AI API - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# MongoDB Configuration
# =============================================================================
# For Docker Compose with bundled MongoDB:
MONGO_URI=mongodb://mongo:27017

# For TrueNAS with external MongoDB (example):
# MONGO_URI=mongodb://192.168.1.100:27017
# MONGO_URI=mongodb://truenas.local:27017

DB_NAME=diabetic_db

# =============================================================================
# LLM Provider Configuration
# =============================================================================
# Choose your LLM provider: "openai" or "gemini"
LLM_PROVIDER=gemini

# OpenAI Configuration (required if LLM_PROVIDER=openai)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini

# Google Gemini Configuration (required if LLM_PROVIDER=gemini)
GOOGLE_API_KEY=
GEMINI_MODEL=gemini-2.5-flash

# LLM Temperature (0.0 = deterministic, 1.0 = creative)
LLM_TEMPERATURE=0.0

# =============================================================================
# CareLink Sync Configuration (Token-based API - Recommended)
# =============================================================================
# To get your token:
# 1. Log into CareLink (https://carelink.minimed.com) in your browser
# 2. Open DevTools (F12) > Application tab > Cookies
# 3. Copy the value of 'auth_tmp_token' cookie
# 4. Paste it below (it's a long JWT string)
#
# The token auto-refreshes, so you shouldn't need to update it often.
# If sync fails with "token expired", get a fresh token from browser.

CARELINK_TOKEN=
CARELINK_COUNTRY_CODE=us
# CARELINK_PATIENT_USERNAME=  # Optional: for care partners with multiple patients

# Schedule automatic sync (optional)
SYNC_SCHEDULE_ENABLED=false
SYNC_SCHEDULE_DAY=0
SYNC_SCHEDULE_HOUR=6

# =============================================================================
# Application Settings
# =============================================================================
DEBUG=false
API_PORT=8000
MONGO_PORT=27017

# =============================================================================
# TrueNAS Deployment Notes
# =============================================================================
# 1. Copy this file to .env
# 2. Set your MongoDB URI (internal or external)
# 3. Add your LLM API key (Gemini recommended for cost)
# 4. Add your CareLink token (see instructions above)
# 5. Run: docker-compose -f docker-compose.yml -f docker-compose.truenas.yml up -d
#
# For bundled MongoDB (simpler):
#   docker-compose up -d
#
# Available Gemini Models:
#   - gemini-2.5-flash (latest, recommended)
#   - gemini-2.0-flash (stable)
#   - gemini-1.5-flash (cheapest)
#   - gemini-1.5-pro (best reasoning)

